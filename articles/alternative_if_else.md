---
title: "ã€å‚™å¿˜éŒ²ã€‘ï¼’è€…é–“ã®æ¡ä»¶åˆ†å²ã ã‹ã‚‰ã¨ã„ã£ã¦å®‰æ˜“ã«ifæ–‡ã‚’ä½¿ç”¨ã—ãªã„"
emoji: "ğŸ§‘â€ğŸ”¬"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Ruby","Rails","åˆå¿ƒè€…","ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°"]
published: false
---

## ã¯ã˜ã‚ã«

ï¼’è€…é–“ã®æ¡ä»¶åˆ†å²ã‚’è¨˜è¿°ã™ã‚‹éš›ã«ã¯if~elseã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚
ã—ã‹ã—ãªãŒã‚‰ã€if~elseã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§å¯èª­æ€§ã‚„æ‹¡å¼µæ€§ãŒä½ä¸‹ã™ã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚
æœ¬è¨˜äº‹ã§ã¯if~elseã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ç™ºç”Ÿã™ã‚‹å•é¡Œç‚¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
ãªãŠã€ä»Šå›è¨˜è¿°ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯Ruby on Railsã®ã‚±ãƒ¼ã‚¹ã§è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚

ä¾‹ãˆã°ã€å±±ç”°ã•ã‚“ã¨ä¸­å³¶ã•ã‚“ã¨ä¼Šè—¤ã•ã‚“ã®ï¼“äººã®å¹´é½¢ã‚’æ¯”è¼ƒã—ã¦ãã®ä¸­ã§ä¸€ç•ªå¹´é½¢ãŒä¸Šã®äººã‚’å–å¾—ã™ã‚‹å ´åˆã¯max_byãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¦æ¬¡ã®ã‚ˆã†ã«æ›¸ã‘ã¾ã™ã€‚

```ruby
  yamada = User.create!(name: "å±±ç”°", age: 20)
  nakajima = User.create!(name: "ä¸­å³¶", age: 40)
  ito = User.create!(name: "ä¼Šè—¤", age: 30)
  [yamada, nakajima, ito].max_by{|user| user.age} # nakajimaãŒè¿”å´ã•ã‚Œã‚‹
```

max_byãƒ¡ã‚½ãƒƒãƒ‰ã«ã¤ã„ã¦ã¯æ¬¡ã®ãƒªãƒ³ã‚¯ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

https://docs.ruby-lang.org/ja/latest/method/Enumerable/i/max_by.html

ãã‚Œã§ã¯å±±ç”°ã•ã‚“ã¨ä¸­å³¶ã•ã‚“ã®ï¼’äººã®å¹´é½¢ã‚’æ¯”è¼ƒã—ã¦ã€å¹´é½¢ãŒå–å¾—ã™ã‚‹äººã®åå‰ã‚’å–å¾—ã™ã‚‹å ´åˆã¯ã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿ
ä¸Šã®èª˜å°ãŒã‚ã‚Œã°æ¬¡ã®ã‚ˆã†ã«æ›¸ã‘ã¾ã™ã€‚

```ruby
  max_age_user = [yamada, nakajima].max_by{|user| user.age} # nakajimaãŒè¿”å´ã•ã‚Œã‚‹
  max_age_user.name # ä¸­å³¶ãŒè¿”å´ã•ã‚Œã‚‹
```

ã¨ã“ã‚ãŒã€å®Ÿéš›ã«ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚

```ruby
  if yamada.age > nakajima.age
    max_age_user = yamada
  else
    max_age_user = nakajima
  end
  max_age_user.name # ä¸­å³¶ãŒè¿”å´ã•ã‚Œã‚‹
```

ãŠãã‚‰ã2è€…é–“ã®æ¡ä»¶åˆ†å²ã§ã‚ã‚Œã°ã€if~elseã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚
ã—ã‹ã—ãªãŒã‚‰å€‹äººçš„ã«ã¯å¯èƒ½ãªé™ã‚Šif~elseã‚’ä½¿ç”¨ã—ãŸããªã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚

## if~elseã‚’ä½¿ç”¨ã™ã‚‹å•é¡Œç‚¹

### ç†ç”±â‘ ï¼šå¯èª­æ€§ãŒä½ã„

æ¡ä»¶åˆ†å²ã‚’ä½¿ç”¨ã™ã‚‹ã¨è¡Œæ•°ãŒå¢—ãˆã‚‹ãŸã‚ã€
ã‚³ãƒ¼ãƒ‰ã®èª­ã¿æ‰‹ã«èª­è§£ã‚’å¼·ã„ã‚‹ç®‡æ‰€ãŒå¢—ãˆã‚‹ã“ã¨ã«ãªã‚Šã€èªçŸ¥è² è·ãŒé«˜ããªã‚Šã¾ã™ã€‚

### ç†ç”±â‘¡ï¼šæ‹¡å¼µæ€§ãŒæ‚ªã„

æ¡ä»¶åˆ†å²ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€æ¡ä»¶ãŒå¢—ãˆã‚‹ãŸã³ã«ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
if~elseã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã¨elsifã‚’è¿½åŠ ã™ã‚‹å¯¾å¿œãªã©ã‚’ã—ãŸçµæœã€
ã‚³ãƒ¼ãƒ‰ãŒè¤‡é›‘ã«ãªã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚

ï¼’ã¤ã®ç†ç”±ã«ã¤ã„ã¦å®Ÿéš›ã«é­é‡ã—ãŸã‚±ãƒ¼ã‚¹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚

## æ¡ä»¶ãŒè¿½åŠ ã•ã‚ŒãŸå ´åˆ

åˆ¥ã®é–‹ç™ºè€…ãŒæ¡ä»¶è¿½åŠ ã«ä¼´ã†ã‚³ãƒ¼ãƒ‰ä¿®æ­£ã‚’ã—ãŸå ´åˆã«ã€
ç´”ç²‹ã«æ¡ä»¶åˆ†å²ã®ã¿ã‚’ä¿®æ­£ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
if~elseã‚’ä½¿ç”¨ã—ãŸæ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’è€ƒãˆã¾ã™ã€‚

```ruby

if hoge.content.present? && fuga.content.present?
  "ãƒ›ã‚²ãƒ»ãƒ•ã‚¬"
elsif hoge.content.present? && !fuga.content.present?
  "ãƒ›ã‚²"
elsif !hoge.content.present? && fuga.content.present?
  "ãƒ•ã‚¬"
end

```

hoge,fugaã®2ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚‹å ´åˆã«ã€
ãã‚Œãã‚Œã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®contentãŒå­˜åœ¨ã™ã‚‹å ´åˆã«ã¯è©²å½“ã™ã‚‹æ–‡å­—åˆ—ã‚’è¿”å´ã™ã‚‹ã¨ã„ã†å‡¦ç†ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚
ã“ã®æ™‚ç‚¹ã§ã™ã§ã«å¯èª­æ€§ãŒä½ã„ã§ã™ãŒã€æ‰±ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå¢—ãˆãŸå ´åˆã«ã“ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚

```ruby

if hoge.content.present? && fuga.content.present? && piyo.content.present?
  "ãƒ›ã‚²ãƒ»ãƒ•ã‚¬ãƒ»ãƒ”ãƒ¨"
elsif hoge.content.present? && fuga.content.present?
  "ãƒ›ã‚²ãƒ»ãƒ•ã‚¬"
elsif hoge.content.present? && piyo.content.present?
  "ãƒ›ã‚²ãƒ»ãƒ”ãƒ¨"
elsif fuga.content.present? && piyo.content.present?
  "ãƒ•ã‚¬ãƒ»ãƒ”ãƒ¨"
elsif hoge.content.present?
  "ãƒ›ã‚²"
elsif fuga.content.present?
  "ãƒ•ã‚¬"
elsif piyo.content.present?
  "ãƒ”ãƒ¨"
end

```

ã“ã®ã‚ˆã†ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå¢—ãˆã‚‹ã¨ã€æ¡ä»¶åˆ†å²ã®æ•°ãŒå¢—ãˆã¦ã„ãã¾ã™ã€‚
ä»Šå›ã®å ´åˆã¯æ¬¡ã®ã‚ˆã†ãªå¯¾å¿œã‚’ã¯ã˜ã‚ã‹ã‚‰è€ƒãˆã¦ãŠãã¹ãã§ã—ãŸã€‚

```ruby

tmp = []
tmp << "ãƒ›ã‚²" if hoge.content.present?
tmp << "ãƒ•ã‚¬" if fuga.content.present?
tmp.join("ãƒ»")

```

## ãƒã‚¹ãƒˆã—ãŸå ´åˆ

æ¬¡ã®ã‚ˆã†ã«æ¡ä»¶åˆ†å²ãŒãƒã‚¹ãƒˆã™ã‚‹ã‚±ãƒ¼ã‚¹ã‚‚è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚

```ruby
  hoge = Hoge.find_by(id: params[:hoge_id])
  fuga = Fuga.find_by(id: params[:fuga_id])
  if hoge.present? && fuga.present?
    if hoge.created_at > fuga.created_at
      name = hoge.name
      date = hoge.created_at.strftime("%Yå¹´%mæœˆ%dæ—¥")
    else
      name = fuga.name
      date = fuga.created_at.strftime("%Yå¹´%mæœˆ%dæ—¥")
    end
  elsif hoge.present?
    name = hoge.name
    date = hoge.created_at.strftime("%Yå¹´%mæœˆ%dæ—¥")
  elsif fuga.present?
    name = fuga.name
    date = fuga.created_at.strftime("%Yå¹´%mæœˆ%dæ—¥")
  end
```

ã“ã®ã‚ˆã†ã«æ›¸ã‘ã°æ¡ä»¶åˆ†å²ã‚’ãƒã‚¹ãƒˆã›ãšã«æ›¸ã‘ã¾ã™ã€‚

```ruby
  hoge = Hoge.find_by(id: params[:hoge_id])
  fuga = Fuga.find_by(id: params[:fuga_id])

  content = [hoge, fuga].compact.max_by(&:created_at)
  return unless content

  name = content.name
  date = content.created_at.strftime("%Yå¹´%mæœˆ%dæ—¥")
```

## ã¾ã¨ã‚

2è€…é–“ã®æ¡ä»¶ã‚’æ¯”è¼ƒã™ã‚‹å ´åˆã¯if~elseã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚
ã—ã‹ã—ãªãŒã‚‰å¯èª­æ€§ã‚„æ‹¡å¼µæ€§ã‚’è¸ã¾ãˆã‚‹ã¨é…åˆ—ãªã©ã‚’æ´»ç”¨ã—ã¦
æ—©ã„æ®µéšã§æ¡ä»¶åˆ†å²ã‚’æ’é™¤ã™ã‚‹ã“ã¨ãŒæœ›ã¾ã—ã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚
é…åˆ—ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã™ã‚‹ã¨ã€æ¡ä»¶ãŒã‚ã‹ã‚Šã«ãããªã‚‹ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚Šã¾ã™ã®ã§ã€
ä¸€æ¦‚ã«ã“ã®ã‚ˆã†ãªä¿®æ­£ãŒè‰¯ã„ã¨ã¯è¨€ãˆã¾ã›ã‚“ãŒã€
å®‰æ˜“ã«ä½¿ç”¨ã™ã‚‹ã®ã§ã¯ãªãã€
æ¡ä»¶åˆ†å²ã‚’æ’é™¤ã™ã‚‹æ–¹æ³•ã‚’è€ƒãˆã‚‹ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚